= content_for :title, _("#{@type.to_s.capitalize} Contact")
= breadcrumb_for_account _("#{@type.to_s.capitalize} Contact")
%h1= _("#{@type.to_s.capitalize} Contact")
= flashes

%form.form-horizontal.formtastic.form-address{:action => @action_path, :id => 'form-address', :method => 'post'}
  = token_tag(nil)
  - if @type == :billing
    %p
    %p We use this information to contact you regarding any billing issue regarding your account.
  - else
    %p We use this information to contact you regarding any technical issue we may found in your apps.

  - if @type == :billing
    %p
      .string.required.control-group
        %label.control-label Use Primary Contact
        .controls
          = check_box_tag :use_primary_address, @address[:use_primary_address], @address[:use_primary_address]

  %fieldset.inputs
    .string.required.control-group
      %label.control-label Name
      .controls
        = text_field_tag 'name', @address[:name], :placeholder => _('Name'), :class => 'input-xlarge'

    .string.required.control-group
      %label.control-label Email
      .controls
        = text_field_tag 'email', @address[:email], :placeholder => _('Email'), :class => 'input-xlarge'

    .string.required.control-group
      %label.control-label Phone
      .controls
        = phone_field_tag 'phone', @address[:phone], :placeholder => _('Phone'), :class => 'input-medium'

    .string.required.control-group
      %label.control-label Address
      .controls
        = text_field_tag 'line1', @address[:line1], :placeholder => _('Address'), :class => 'input-xlarge'

    .string.required.control-group
      %label.control-label 
      .controls
        = text_field_tag 'line2', @address[:line2], :placeholder => _('Address'), :class => 'input-xlarge'

    .string.required.control-group
      %label.control-label City
      .controls
        = text_field_tag 'city', @address[:city], :placeholder => _('City'), :class => 'input-xlarge'

    .string.required.control-group
      %label.control-label State
      .controls
        = text_field_tag 'state', @address[:state], :placeholder => _('State'), :class => 'input-xlarge'

    .string.required.control-group
      %label.control-label Country
      .controls
        = select_tag :country_code, options_for_select(country_list, @address[:country_code])

    .string.required.control-group
      %label.control-label ZIP Code
      .controls
        = text_field_tag 'postal_code', @address[:postal_code], :placeholder => _('ZIP Code'), :class => 'input-medium'

    .string.required.control-group.br-type-control.hidden
      %label.control-label Pessoa FÃ­sica
      .controls
        = radio_button_tag 'type', 'pf', @address[:type] == 'pf'

    .string.required.control-group.br-type-control.hidden
      %label.control-label CPF
      .controls
        = text_field_tag 'pf_cpf', @address[:pf_cpf], :placeholder => "CPF", :class => 'input-medium type-pf-control', :disabled => @address[:type] != 'pf'

    .string.required.control-group.br-type-control.hidden
      %label.control-label Pessoa JurÃ­dica
      .controls
        = radio_button_tag 'type', 'pj', @address[:type] == 'pj'

    .string.required.control-group.br-type-control.hidden
      %label.control-label CNPJ
      .controls
        = text_field_tag 'pj_cnpj', @address[:pj_cnpj], :placeholder => "CPNJ", :class => 'input-medium type-pj-control', :disabled => @address[:type] != 'pj'

    .string.required.control-group.br-type-control.hidden
      %label.control-label Insc. Est.
      .controls
        = text_field_tag 'pj_ie', @address[:pj_ie], :placeholder => "Insc. Estadual.", :class => 'input-medium type-pj-control', :disabled => @address[:type] != 'pj'

  %p
    %fieldset.form-actions
      = link_to _('Cancel'), account_path, :class => 'btn'
      %button.btn.btn-danger.update{:type => 'submit'}= _('Save')
